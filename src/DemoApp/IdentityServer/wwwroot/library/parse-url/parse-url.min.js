(function(n){n.parseUrl=function(t){var r,i,u;return t||(t=n.location),r=document.createElement("a"),r.href=t,i={source:t,protocol:r.protocol.replace(":",""),host:r.hostname,port:r.port,queryString:r.search,queryParams:function(){for(var u={},t=r.search.replace(/^\?/,"").split("&"),f=t.length,n=0,i;n<f;n++)t[n]&&(i=t[n].split("="),u[i[0]]=i[1]);return u}(),file:(r.pathname.match(/\/([^\/?#]+)$/i)||[null,""])[1],hash:r.hash.replace("#",""),path:r.pathname.replace(/^([^\/])/,"/$1"),relative:(r.href.match(/tps?:\/\/[^\/]+(.+)/)||[null,""])[1],segments:r.pathname.replace(/^\//,"").split("/")},u=i.protocol==="http"&&(i.port==="80"||i.port==="")||i.protocol==="https"&&(i.port==="443"||i.port===""),i.isDefaultPort=u,i.link=i.protocol+"://"+i.host+(u?"":":"+i.port)+i.path+i.queryString+i.hash,i}})(window);