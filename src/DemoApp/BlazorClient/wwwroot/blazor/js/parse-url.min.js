(function(n){n.parseUrl=function(n){var i=document.createElement("a"),t,r;return i.href=n,t={source:n,protocol:i.protocol.replace(":",""),host:i.hostname,port:i.port,queryString:i.search,queryParams:function(){for(var u={},t=i.search.replace(/^\?/,"").split("&"),f=t.length,n=0,r;n<f;n++)t[n]&&(r=t[n].split("="),u[r[0]]=r[1]);return u}(),file:(i.pathname.match(/\/([^\/?#]+)$/i)||[null,""])[1],hash:i.hash.replace("#",""),path:i.pathname.replace(/^([^\/])/,"/$1"),relative:(i.href.match(/tps?:\/\/[^\/]+(.+)/)||[null,""])[1],segments:i.pathname.replace(/^\//,"").split("/")},r=t.protocol==="http"&&(t.port==="80"||t.port==="")||t.protocol==="https"&&(t.port==="443"||t.port===""),t.link=t.protocol+"://"+t.host+(r?"":":"+t.port)+t.path+t.queryString+t.hash,t}})(window);